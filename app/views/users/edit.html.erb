<div class="container">
  <h1>User info</h1>
  
  <div class="error_explanation">
    <% if @user.errors.any? %>
      <% if @user.errors.count == 1 %>
        <h3><%= @user.errors.count %> error prohibited this obj from being saved:</h3>
      <% else %>
        <h3><%= @user.errors.count %> errors prohibited this obj from being saved:</h3>
      <% end %>
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>
  </div>
  
  <%= form_with model:@user, class:"edit_user", local:true do |f| %>
    <div class="form-group has-icon">
      <%= f.label :name %>
      <%= f.text_field :name, autofocus: true, class:"name", id:"user_name" %>
      <span class="fa fa-user form-control-icon" aria-hidden="true"></span>
    </div>
    <div class="form-group has-icon">
      <%= f.label :image, id:"user_profile_image" %>
      <%= f.attachment_field :profile_image, placeholder: "プロフィール画像", class: "user-edit-form" %>
    </div>
    <div class="form-group has-icon">
      <%= f.label :introduction, id:"user_introduction" %>
      <%= f.text_field :introduction, class:"user-edit-form" %>
    </div>
    <%= f.submit "Update User" %>
  <% end %>
</div>